<div class="container" *ngIf="!loading && vacant">

    <h1>Detalle de la vacante</h1>
    
    <table class="example-full-width" cellspacing="0">
        <tr class="example-full-width">
            
            <td class="cell">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label for="cargo">Cargo</mat-label>
                    <input matInput autocomplete="off" name="cargo" id="cargo" [value]="vacant.cargo" disabled>
                </mat-form-field>
            </td>

            <td>
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label for="cuit">CUIL/CUIT</mat-label>
                    <input matInput autocomplete="off" name="cuit" id="cuit" [value]="vacant.empresa.cuit" disabled>
                </mat-form-field>
            </td>

            <td>
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label for="company">Empresa</mat-label>
                    <input matInput autocomplete="off" name="company" id="company" [value]="vacant.empresa.razon_social" disabled>
                </mat-form-field>
            </td>

        </tr>

    </table>

    <div>
        <mat-form-field class="example-full-width" appearance="outline">
            <mat-label for="descripcion">Descripción del cargo</mat-label>
            <textarea matInput name="descripcion" id="descripcion" [value]="' '" *ngIf="vacant.descripcion === null || vacant.descripcion === ''" disabled></textarea>
            <textarea matInput name="descripcion" id="descripcion" [value]="vacant.descripcion" *ngIf="vacant.descripcion !== null && vacant.descripcion !== ''" disabled></textarea>
        </mat-form-field>
    </div>
    
    <div>
        <mat-form-field class="example-full-width" appearance="outline">
            <mat-label for="estado">Estado de la vacante</mat-label>
            <input matInput name="estado" id="estado" [value]="vacant.estado" disabled>
        </mat-form-field>
    </div>

    <h2>Requerimientos del cargo</h2>

    <mat-grid-list cols="4" rowHeight="50px" *ngIf="vacant.requerimientos.length === 0">
        <mat-grid-tile
            [colspan]="4"
            [rowspan]="1">
            Aún no hay requerimientos para esta vacante
        </mat-grid-tile>
    </mat-grid-list>

    <table mat-table [dataSource]="vacant.requerimientos" class="mat-elevation-z3 table" *ngIf="vacant.requerimientos.length > 0">
        
        <ng-container matColumnDef="Nro">
            <th mat-header-cell *matHeaderCellDef> Nro. </th>
            <td mat-cell *matCellDef="let i = index"> {{ i + 1 }} </td>
        </ng-container>

        <ng-container matColumnDef="Descripción del requerimiento">
            <th mat-header-cell *matHeaderCellDef style="text-align: center;"> 
                Descripción del requerimiento 
            </th>
            <td mat-cell *matCellDef="let requerimiento" style="text-align: center;">
                {{ requerimiento.descripcion }}
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr> 

    </table> 

    <div class="example-button-row">
        <button mat-raised-button style="margin-right: 0;" type="button" [routerLink]="['/main/vacantes']">
            <mat-icon aria-hidden="false" aria-label="Example home icon">keyboard_arrow_left</mat-icon>    
            Volver
        </button>
    </div>

</div>
